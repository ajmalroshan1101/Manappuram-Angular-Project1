<div class="container">
    <!-- <div class="flex flex-wrap space-x-6">
        <input type="date" name="" id="" class="w-60 border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500" [(ngModel)]="fromDate" />
        <input type="date" name="" id="" class="w-60 border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500" [(ngModel)]="toDate" (change)="submitDate(fromDate, toDate)" />
    </div> -->

    <div class="flex flex-wrap space-x-5">
        <div class="flex flex-col">
            <label for="input1"> Choose Branch</label>
            <div class="input-container">
                <select id="dropdown" [(ngModel)]="selectedValue" (change)="
                dateAndBranchAndDepartment(
                  selectedValue,
                  selectedValue2)" class="w-60 border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
          <option
            *ngFor="let option of dropdownData"
            [value]="option.branch_name"
          >
            {{ option.branch_name }}
          </option>
        </select>
            </div>
        </div>
        <!-- End of first set -->
        <!-- Second set of input and select box -->
        <div class="flex flex-col">


            <!-- currently working no other is working -->
            <!-- /second select cbox -->
            <label for="input2"> Choose Department</label>
            <div class="input-container">
                <select id="dropdown" [(ngModel)]="selectedValue2" (change)="
            dateAndBranchAndDepartment(
              selectedValue,
              selectedValue2
            )
          " class="w-60 borfder border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-1 focus:ring-indigo-500">
          <option
            *ngFor="let option of departmentData"
            [value]="option.department"
          >
            {{ option.department }}
          </option>
        </select>
            </div>
        </div>


    </div>

    <h1 *ngIf="shownodata">sorry no stock found</h1>

    <!-- This table is currently showing fo the handmade total stock -->
    <div class="table-container pl-20" *ngIf="showHandMadeTable">
        <table class="min-w-full divide-y divide-gray-200 overflow-x-auto">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        Branch </th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        purity
                    </th>

                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        assigned_weight_employee
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        weight
                    </th>

                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let item of handmadedata">
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.branch }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.purity }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.assigned_weight_employee }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.weight_1 }}</td>

                </tr>
            </tbody>
        </table>
        <button (click)="exportdata(handmadedata)" class="bg-red-600 text-white font-medium rounded-lg shadow py-2 px-4 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-500 dark:hover:bg-red-600">Export</button>
    </div>

    <div class="table-container pl-20" *ngIf="showcastingtable">
        <table class="min-w-full divide-y divide-gray-200 overflow-x-auto">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        Branch </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        Department
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        Metal Name
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        karat
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        L metal
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                        item weight
                    </th>

                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let item of castingdata">
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.branch }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.department }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.metal_name }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.karat }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.l_metal }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ item.item_weight }}</td>
                </tr>
            </tbody>
        </table>
        <button (click)="exportdata(castingdata)" class="bg-red-600 text-white font-medium rounded-lg shadow py-2 px-4 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-500 dark:hover:bg-red-600">Export</button>
    </div>

    <div class="container mx-auto" *ngIf="showgcdtable">
        <button (click)="exportdata(gcddata)" class=" bg-red-600 text-white font-medium rounded-lg shadow py-2 px-4 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-red-500 dark:hover:bg-red-600">Export</button>

        <table class="table-auto border-collapse w-full">
            <thead>
                <tr>
                    <th class="px-4 py-2">Barcode</th>
                    <th class="px-4 py-2">Gross Weight</th>
                    <th class="px-4 py-2">Item Name</th>
                    <th class="px-4 py-2">Purity</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of gcddata" class="text-center">
                    <td class="border px-4 py-2">{{ item.barcode }}</td>
                    <td class="border px-4 py-2">{{ item.gross_weight }}</td>
                    <td class="border px-4 py-2">{{ item.item_name }}</td>
                    <td class="border px-4 py-2">{{ item.karat }}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>